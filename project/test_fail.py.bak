from playwright.sync_api import sync_playwright

def run():
    with sync_playwright() as p:
        browser = p.chromium.launch(headless=False) 
        page = browser.new_page()
        
        print("Opening Google...")
        page.goto("https://www.google.com")
        
        print("Waiting for search input to be visible...")
        # [KERNHELL-FIX-OLD] search_input = page.query_selector("input[name='q']")
        # [KERNHELL-FIX-OLD] page.wait_for_selector("input[name='q']", state="visible")
        page.wait_for_selector("input[name='q']", timeout=60000)
        
        print("Trying to search for something...")
        search_input = page.query_selector("input[name='q']")
        page.fill("input[name='q']", "Playwright")
        
        # [KERNHELL-FIX-OLD] # [KERNHELL-FIX-OLD] # [KERNHELL-FIX-OLD] print("Trying to click the button...")
        print("Trying to click the search button...")
        page.click("input[name='btnK']") 
        # [KERNHELL-FIX-OLD] # [KERNHELL-FIX-OLD] # [KERNHELL-FIX-OLD] # Error: Yeh ID exist nahi karti
        # [KERNHELL-FIX-OLD] # [KERNHELL-FIX-OLD] # [KERNHELL-FIX-OLD] page.click("#made_up_button_id_123")
        
        print("Success!")
        page.wait_for_timeout(5000)  # wait for 5 seconds
        browser.close()

if __name__ == "__main__":
    run()
